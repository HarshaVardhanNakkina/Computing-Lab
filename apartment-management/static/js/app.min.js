"use strict";var _assert=require("assert");function ownKeys(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(s,!0).forEach(function(t){_defineProperty(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function _defineProperty(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}$("#profile-details-form").submit(function(t){t.preventDefault();var e=$("#update-profile-btn");e.prop("disabled",!0);var s=$(this).attr("action"),n=$(this).serializeArray().reduce(function(t,e){return _objectSpread({},t,_defineProperty({},e.name,e.value))},{});$.post(s,n,function(){}).done(function(){console.log("profile updated"),$(".update-success-fail").append('\n\t\t\t\t<div class="alert alert-success alert-dismissible text-center fade show" role="alert">\n\t\t\t\t\tUpdated profile successfully.\n\t\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t')}).fail(function(){$(".update-success-fail").append('\n\t\t\t\t<div class="alert alert-success alert-dismissible text-center fade show" role="alert">\n\t\t\t\t\tInternal Server Error. Please try again.\n\t\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t')}).always(function(){$("html, body").animate({scrollTop:0},800,function(){}),e.prop("disabled",!1)})}),$("#resend-otp").click(function(){var t=this;$(this).prop("disabled",!0);var e=$(this).data("user_id");$.post("/users/confirmotp/resend-otp/".concat(e),function(){console.log("resend success")}).done(function(){$(".resend-success-fail").append('\n\t\t\t<div class="alert alert-success alert-dismissible fade show" role="alert">\n\t\t\tresend success. check your mail again.\n\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t')}).always(function(){$(t).prop("disabled",!1)})}),$("#resend-setup-link").click(function(){var t=this;$(this).prop("disabled",!0);var e=$(this).data("user_id");$.post("/users/confirmotp/resend-link/".concat(e),function(){console.log("resend success")}).done(function(){$(".resend-success-fail").append('\n\t\t\t<div class="alert alert-success alert-dismissible fade show" role="alert">\n\t\t\tresend success. check your mail again.\n\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t')}).always(function(){$(t).prop("disabled",!1)})});